<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>06-02.html</title>
</head>
<body>
  <h2>js 객체 자료형</h2>
  <script>

    // 객체 자료형

    // - 속성과 메소드를 가질 수 있는 모든 것은 객체
    const a = [];
    console.log(a.length); // 0
    a.sample = 10;
    console.log(a.sample); // 10

    // - 자바스크립트에서는 함수도 객체
    function b() {};
    b.sample = 15;
    console.log(b.sample); // 15


    // 배열의 자료형
    console.log(typeof(a)); // object
    // - 배열인지 확인하기 위해서 Array.isArray()메소드 사용
    Array.isArray(a); // true

    // 함수의 자료형
    // function b() {};
    console.log(typeof(b)); // function
    // - 실행이 가능한 객체라는 특이한 자료로 function을 출력

    // 기본 자료형
    // - 숫자, 문자열, 불린
    // - 기본 자료형은 객체가 아니므로 속성을 가질 수 없음
    const c = 273;
    c.sample = 10;
    console.log(c.sample); // undefined (속성 추가 안됨)
    // >> 숫자에 속성을 추가하면 속성을 만들 수 있는 것처럼 보이지만
    //    실제로는 속성이 만들어지지 않음

    // 기본 자료형을 객체로 선언하기
    // const 객체 = new 객체자료형이름()
    // 숫자 객체 - new Number(20)
    // 문자열 객체 - new String("안녕하세요")
    // 불린 객체 - new Boolean(true);
    const f = new Number(273);
    console.log(typeof(f)); // object
    f.sample = 10;
    console.log(f.sample); // 10
    console.log(f); // Number {273, sample: 10}
    // 객체 형태는 숫자와 똑같이 활용할 수 있음
    console.log((f + 10)); // 283
    // valueOf()메소드를 사용하여 값을 추출할 수도 있음
    console.log(f.valueOf()); // 273



    // 기본 자료형의 일시적 승급

    // - 문자열 > length속성도 사용 가능
    // -          메소드들도 사용 가능
    console.log("안녕하세요".length); // 5
    console.log("안녕하세요 반갑습니다".split(" "));
    // ['안녕하세요', '반갑습니다']
    
    // - 기본 자료형은 속성과 메소드를 가질 수 없음
    // - but 사용의 편리성을 위해 기본 자료형의 속성과 메소드를 호출할 때에
    //   일시적으로 기본자료형을 객체로 승급시킴
    // - 이러한 승급은 일시적 
    // - 속성에 기본 자료형이 추가되는 것처럼 보여도 실제로는 추가되지 않음

    // 프로토타입에 메소드 추가하기
    // - 숫자 객체 전체에 어떤 속성과 메소드 추가 가능
    // - 객체의 prototype이라는 속성에 속성과 메소드 추가 가능
    // 객체자료형이름.prototype.메소드이름 = function() {}

    Number.prototype.sample = 10;
    // 프로토타입으로 sample에 10 추가
    const i = 273;
    console.log(i.sample); // 10
    // >> 모든 숫자 객체에서 사용 가능

    // 프로토타입에 속성을 추가하지 않지만 메소드를 추가하는 경우
    // 제곱연산자 (**)
    // - 숫자를 n제곱
    console.log(2 ** 2); // 4
    console.log(2 ** 3); // 8
    console.log(2 ** 4); // 16

    // - power()메소드 사용
    // 숫자 자료형에 n제곱하기
    Number.prototype.power = function(n = 2) {
      return this.valueOf() ** n;
    };

    const a1 = 12;
    console.log("a1.power(): ", a1.power()); // 144
    console.log("a1.power(3): ", a1.power(3)); // 1738
    console.log("a1.power(4): ", a1.power(4)); // 20736

    // * indexOf() 메소드
    // - 문자열과 배열 내부에 어떤 자료가 있는지 확인할 때 사용
    // - 있다면 해당 문자열이 시작하는 위치(인덱스)를 출력
    // - 없으면 -1 출력
    const j = "안녕하세요";
    console.log(j.indexOf("안녕")); // 0
    console.log(j.indexOf("하세")); // 2
    console.log(j.indexOf("용")); // -1 (없는 문자열)

    const k = [1, 2, 3];
    console.log(k.indexOf(2)); // 1
    console.log(k.indexOf(3)); // 2
    console.log(k.indexOf(100)); // -1

    // 어떤 문자열이 문자열 내부에 있는지 없는지 boolean형태로 리턴해주는 기능
    const sIndexOf = function(str, data) {
      return str.indexOf(data) >= 0
    }
    console.log(sIndexOf("안녕하세요", "안")); // true
    const str = "함수형 프로그래밍"
    console.log(sIndexOf(str, "함수")); // true
    // 함수형 프로그래밍 관점에서는 별로..

    String.prototype.contain = function(data){
      return this.indexOf(data) >= 0
    }
    const s = "안녕하세요";
    console.log("안녕 in 안녕하세요? ", s.contain("안녕")); // true
    console.log("녕안 in 안녕하세요? ", s.contain("녕안")); // false

    // Number 객체
    // * toFixed()
    // - 숫자 N번째 자릿수까지 출력하기
    // - 소수점 이하 몇자리까지만 출력하고 싶을 때 사용
    // - 매개변수에 소수점 자릿수를 넣음
    const l = 123.456789;
    // 소수점 둘째자리까지 출력
    console.log(l.toFixed(2)); // 123.46
    // 소수점 셋째자리까지 출력
    console.log(l.toFixed(3)); // 123.457
    // 소수점 넷째자리까지 출력
    console.log(l.toFixed(4)); // 123.4568

    // * isNaN()
    // - : 어떤 숫자가 NaN(not a number)인지 확인할 때 
    // - Number.isNaN()
    const m = Number("숫자로 변환할 수 없는 경우");
    console.log(m); // NaN
    // NaN은 비교 연산자 사용 불가
    console.log(m===NaN); // false
    console.log(m==NaN);
    console.log(Number.isNaN(m)); // true - isNaN으로 확인해야 함

    // * isFinite()
    // - : 어떤 숫자가 무한(Infinity)인지 확인할 때
    // - 유한한 숫자인지를 검사
    // - 무한한 숫자면 false 나옴
    // - 일반적인 숫자는 셀 수 있으므로 true가 나옴
    // - Number.isFinite()
    const n = 10/0;
    console.log(n); // Infinity (양의 무한대)
    const o = -10/0;
    console.log(o); // -Infinity (음의 무한대)
    console.log(Number.isFinite(n)); // false
    console.log(Number.isFinite(o)); // false
    console.log(Number.isFinite(1)); // true
    console.log(Number.isFinite(1000)); // true

    // 무한대값은 비교 연산자 사용 가능
    console.log(n === Infinity); // true
    console.log(n === -Infinity); // false
    console.log(o === Infinity || o === -Infinity); // true
    


    




  </script>
</body>
</html>